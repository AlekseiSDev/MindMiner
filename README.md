# MindMiner
–í–∞—à –∫–æ–º–ø–∞–Ω—å–æ–Ω –≤ –≤–∞—à–µ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π

MindMiner ‚Äî —ç—Ç–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ RAG, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ö–æ–¥ –ª—é–¥–µ–π –∫ —Ä–∞–±–æ—Ç–µ —Å–æ —Å–≤–æ–∏–º–∏ –∑–∞–º–µ—Ç–∫–∞–º–∏ Obsidian –∏ –∏—Ö –∏–∑—É—á–µ–Ω–∏—é. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ, —Å–∏–Ω—Ç–µ–∑ –∏ –æ–±–æ–±—â–µ–Ω–∏–µ –≤–∞–∂–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —É–ø—Ä–æ—â–∞—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Å–∞–π—Ç–æ–≤ –∏ –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç–µ–º. –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –∑–∞–º–µ—Ç–∫—É –∫–∞–∫ —É–∑–µ–ª –≥—Ä–∞—Ñ–∞, –∞ –≤–µ—Å—å –≤–∞—à –∞—Ä—Ö–∏–≤ –∑–∞–º–µ—Ç–æ–∫ –∫–∞–∫ –±–æ–≥–∞—Ç—ã–π, –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É MindMiner –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ª–µ–≥–∫–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è.

## –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –≤–∞—à–∏—Ö –∑–∞–º–µ—Ç–∫–∞—Ö Obsidian
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ–π –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
- –û–±–æ–±—â–∞—Ç—å –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –∏–¥–µ–π
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ü–æ–≤—ã—à–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö Obsidian

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Ü–∏—Ç–∞—Ç
- –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏–ª–∏ –∫–æ–Ω—Ü–µ–ø—Ü–∏—è–º
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Å—Å—ã–ª–æ–∫ –∏–∑ –≤–∞—à–µ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –∑–Ω–∞–Ω–∏–π
- –ß–∞—Ç —Å –≤–∞—à–µ–π –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π

### –û–±–æ–±—â–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—Ä–∞—Ç–∫–∏—Ö –∏ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã—Ö —Ä–µ–∑—é–º–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –æ–±–æ–±—â–µ–Ω–∏—è
- –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ –∏–¥–µ–π

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- app
    - api
    - core
- bot
- builds
    - backend
    - frontend
    - init
    - bot
- data
- research

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **–Ø–∑—ã–∫**: Python
- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏**: FastAPI, Aiogram, LangChain, FlagEmbedding
- **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î**: Qdrant
- **–≠–º–±–µ–¥–¥–∏–Ω–≥**: BAAI/bge-m3
- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: Streamlit –∏ Telegram Bot

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ì–ª–æ–±–∞–ª—å–Ω–æ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑
- —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
    - Streamlit
    - Telegram bot
- –±—ç–∫–µ–Ω–¥–∞ (FastAPI)
- –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î (Qdrant)
- –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –ë–î
- –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å LLM

–ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –Ω–∞–±–æ—Ä –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –æ—Ä–∫–µ—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Docker compose.

![alt text](img/stack.png)

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ë–î

–ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∫–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç:
- –î–µ–ª–∏—Ç—Å—è –Ω–∞ —á–∞–Ω–∫–∏ —Å –ø–æ–º–æ—â—å—é MarkdownSplitter
- –ö–∞–∂–¥—ã–π —á–∞–Ω–∫ –≤–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ BAAI/bge-m3
- –í –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ—á–∫–∞, —Å–æ—Å—Ç–æ—è—â–∞—è –∏–∑
    - dense –≤–µ–∫—Ç–æ—Ä–∞
    - sparse –≤–µ–∫—Ç–æ—Ä–∞
    - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö: –∑–∞–≥–æ–ª–æ–≤–æ–∫, —Ç–µ–∫—Å—Ç, –∏–º—è —Ñ–∞–π–ª–∞

![alt text](img/saving.png)

### –†–µ—Ç—Ä–∏–≤–µ—Ä

–ü—Ä–∏ –ø–æ–∏—Å–∫–µ —á–∞–Ω–∫–æ–≤, —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å—É
- –ó–∞–ø—Ä–æ—Å –≤–µ–∫—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ BAAI/bge-m3
- –û—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è "–≥–∏–±—Ä–∏–¥–Ω—ã–π" –ø–æ–∏—Å–∫ –ø–æ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ Qdrant
    - –ø–æ dense –≤–µ–∫—Ç–æ—Ä—É –∑–∞–ø—Ä–æ—Å–∞
    - –ø–æ sparse –≤–µ–∫—Ç–æ—Ä—É –∑–∞–ø—Ä–æ—Å–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –ø–æ –æ–±–æ–∏–º –≤–µ–∫—Ç–æ—Ä–∞–º –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –∏ —Ä–µ—Ä–∞–Ω–∂–∏—Ä—É—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î —Å –ø–æ–º–æ—â—å—é RRF (Reciprocal Rank Fusion)
- Top-k –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —á–∞–Ω–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞

![alt text](img/retriever.png)

## –í–∞–ª–∏–¥–∞—Ü–∏—è

### –ú–µ—Ç–æ–¥–∏–∫–∞
–î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –±—ã–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã 10 –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É —á–∞–Ω–∫—É.  
–ò–¥–µ–∞–ª—å–Ω—ã–π —Ä–µ—Ç—Ä–∏–≤–µ—Ä –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —á–∞–Ω–∫, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –≤–æ–ø—Ä–æ—Å, –Ω–∞ –ø–µ—Ä–≤–æ–º –º–µ—Å—Ç–µ —Å—Ä–µ–¥–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö. 

–î–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞ –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ —Ç–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏, –∫–∞–∫ recall@1,3,5,10 –∏ MRR.  
–ú–µ—Ç—Ä–∏–∫–∞ recall@k –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∫–∞–∫ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏—è "—Ü–µ–ª–µ–≤–æ–≥–æ" —á–∞–Ω–∫–∞ –≤ top-k.  
–ú–µ—Ç—Ä–∏–∫–∞ MRR (Mean Reciprocal Rank) –æ—Ç—Ä–∞–∂–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é (–≤ —Å—Ä–µ–¥–Ω–µ–º) —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–≥–æ —á–∞–Ω–∫–∞ –≤ top-k.  

–ë—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:  
```
recall@1 = 0.559827
recall@3 = 0.719942
recall@5 = 0.766763
recall@10 = 0.818208

mrr = 0.649115
```  

### –î–∏—Å–∫–ª–µ–π–º–µ—Ä
–î–∞–Ω–Ω–∞—è –º–µ—Ç–æ–¥–∏–∫–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–∞ –ø—Ä–∏–º–µ–Ω–∏–º–∞ –¥–∞–ª–µ–∫–æ –Ω–µ –≤—Å–µ–≥–¥–∞ –∏ –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–ø—É—â–µ–Ω–∏—è
- –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–µ RAG –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç –Ω–∞ –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ "—Ä–∞–∑–º–∞–∑–∞–Ω" –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —á–∞–Ω–∫–∞–º
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ "—Ü–µ–ª–µ–≤–æ–º" —á–∞–Ω–∫–µ, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—ã–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤–æ–ø—Ä–æ—Å—ã, —á–∞–Ω–∫–∏ –Ω–µ —Å–∫—É—á–µ–Ω—ã –≤ –∫–ª–∞—Å—Ç–µ—Ä–∞ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—Ç–ª–∏—á–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

#### –ó–∞–ø—É—Å–∫ RAG

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    ```bash
    git clone https://github.com/AlekseiSDev/MindMiner.git
    cd MindMiner
    ```
2.  –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª—ã .env –∏ config.json –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∏—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ ([app/.env.example](app/.env.example), [bot/.env.example](bot/.env.example) –∏ [config_example.json](config_example.json)).

3.  –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
    ```bash
    docker compose up -d
    ```

4.  –ü–æ—Å–µ—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ –∞–¥—Ä–µ—Å—É http://localhost:80.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã
[Aleksey Stepin](https://github.com/AlekseiSDev)      
[Nikita Safonov](https://github.com/sixxio)       
[Rustam Akimov](https://github.com/AkiRusProd)
